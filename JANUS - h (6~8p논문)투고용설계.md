## 한국정보보안학회 3p 논문 투고한 버전을 업그레이드 한 버전 (6~8p 논문으로 확장 후 투고할 예정)

# JANUS-H 확장 구조 요약: 기존 JANUS → H버전 변화 정리

---

## 배경 변화: 기존 JANUS (3p) → JANUS-H (확장 논문)

| 항목 | 기존 JANUS (3p 논문) | JANUS-H (확장 구조) |
|------|----------------------|---------------------|
| 판단 구조 | 단일 설계자 판단 | 분산 설계자 구조 (수직 분산) |
| 로그 방식 | 일반 로그 + 일부 정밀 로그 | SHA-256 기반 블록체인 로그 |
| 격리 구조 | Fake DB 기반 샌드박스 | 디지털 트윈 기반 격리 환경 |
| 자동화 요소 | 없음 (전적으로 인간 판단) | LSTM 기반 이상행동 리포트 자동화 |
| 판단 로직 | 명시적 설계자 직접 판단 | Trust Score 기반 점수 분기 + Override 구조 |
| 공격자 대응 | 유도 + 분석 | 유도 + 로그 분석 + 행동 위조 기록 |
| 구조 확장성 | 단일 시스템 대상 | 계층형(말단-중간-중앙) 구조 설계 |
| 표현 키워드 | 설계자, 샌드박스, Fake DB | Trust Score, 디지털 트윈, 분산합의, 블록체인 로그, Override 판단 |
| 기술 키워드 | 없음 (철학 기반 구조) | SIEM, EDR, LSTM, SHA-256, Pseudocode 기반 로직화 포함 |

---

## JANUS-H 핵심 구조 요약

### 1. 수직 분산 판단 구조
- 말단 판단자 → 자동 또는 조건부 판단 (분산합의 허용)
- 중간 계층 → 상황 요약 + 점수 기반 판단
- 중앙 통제소 → 최종 결정 및 Override 판단 권한 보유

### 2. Trust Score + 판단 흐름
- 이상행동, 반응속도, API 접근, 직접 경로 접근 등으로 감점
- 점수 기반 상태: 신뢰 → 관찰 → 격리 후보 → 격리 대상
- 복구는 무조건 설계자 판단 필요

### 3. 로그 블록체인화
- `writeLog()` → `prevHash + currentData → SHA256`
- `verifyLog()` → tamper-proof 검증
- tamper 발생 시 경고, 로그 분리, 위조 의심 로그 수집

### 4. 디지털 트윈 기반 격리
- 실제 서비스와 동일한 가상 샌드박스 환경
- Fake DB, 더미 계정 포함
- 공격자 행동 추적 + 의도 유도

### 5. 자동화 요소 (EDR 계열 연동)
- LSTM 기반 이상행동 시계열 분석
- 리포트 자동화 → 설계자 판단 지원
- 향후 GPT 기반 요약 가능성 포함

### 6. 확장 개념: KARMA 대비
- JANUS는 수직 계층 기반 통제 구조
- KARMA는 완전 분산 구조로 발전 가능 (탈중앙 판단 시스템)
- 현재는 중앙 Override가 존재함

---
# 추가

### 1. 설계자 판단 미응답 처리 플로우

| 상황 | 처리방식 | 설명 |
|------|----------------------|---------------------|
| 설계자가 일정 시간 내 응답 x | peding상태 유지 → 경고발생 | 서버 셧다운 방지, fail-safe |
| 일정 기준 초과 시 | 임시격리 + 자동 로그 강화 + 우선 분석 플래그 설정 | 판단은 안 하되 유출 방지는 함 |
| 반복될 경우 | 설계자 신뢰도 감점 / 감시대상 전환 | 사람도 공격당할 수 있다는 철학 기반 |
|설계자 사고 발생 시 | 권한 위임 or override 설계자 활성화 | 다중 판단자 구조로 보완 가능 |


### 2. 설계자 판단 히스토리 누적 → 향후 판단 보조
- 판단 내역, 대응 결과, 성공/실패 여부 기록
- 향후 판단자에게 이전 대응 시나리오 자동 추천
- ex) 비슷한 패턴일 경우 "과거 A설계자(관리자)는 격리 후 신고조치"

### 3. Override 구조 구체화 ( 계층적 분산 + 중앙 통제 통합구조)
- 하위 판단자가 내린 판단은 상위 설계자가 항상 override() 가능
- override 자체도 로그로 기록됨(책임 추적 가능)

### 4. 자동격리 조건
- Trust Score < 0 일 경우
- 공격자 식별 시나리오와 완전히 일치하는 행위 발견시
- → 자동으로 디지털 트윈 격리(샌드박스)
- → 판단자는 사후 대응 or 검토만 진행함

### 5. 시뮬레이터 개념
- 실제 운영 환경은 건드리지 않고
- 공격 로그만 샘플링해서 시나리오별 대응 흐름 분석
- → 판단자의 판단력 향상 + 모델 개선 피드백용

### 6. 설계자 판단 인프라
| 기능 | 설명 |
|------|-------|
| live 로그 뷰어 | Trust Score 실시간 감점 상태 확인 |
| 판단 로그 히스토리 | 과거 격리/ 복귀 / 봉쇄 사례 확인 |
| 격리자 프로파일 | fake.db행동 이력, 키입력, 마우스 동선 분석 |
| 리포트 인터셉트 | 자동 생성 리포트를 기반으로 판단 제안 받기 |

---

## 새로운 구조

# 오버라이드
- 자바에서 : 상속받은 메서드를 재정의해서 덮어쓰는 것
- 프로젝트에서 : 하위 판단자가 내린 보안 결정을 상위 판단자가 무시하고 다시 결정하는 것

### 1. JANUS - H 구조 : "계층적 분산 + 중앙 통제 통합 구조"
> 구조핵심
- 각 부서 / 서비스별로 JANUS 인스턴스(설계자 시스템)가 따로 존재
  - 예: DB팀, 사용자 인증팀, 결제 팀 등 모두 각각 자기판단 시스템 보유
- 하지만 상위 통제 계층에서는 모든 판단ㆍ격리 상태를 통합해서 모니터링
  - 이를 중앙설계자가 override 권한으로 총괄함(위에 오버라이드구조 구체화랑 연관)

### 2. 계층 구성 (말단 → 중앙)

| 계층 | 구성 | 역할 |
|------|----------------------|---------------------|
| 말단 설계자 | 부서 내 판단자들 (여러명) | 빠른 판단, 분산 합의 가능, 오판 가능성 존재 |
| 중간 설계자 | 부서 리더급 판단자 | 요약 리포트 확인, override 권한 일부 존재 |
| 중앙 설계자 | 전체 시스템 판단 책임자 | 전체 상황 판단, override(판단 무효화/갱신) 최종 결정권 보유 | 

### 3. Override 구조 = 중앙 통합 판단의 핵심
- 하위 판단자가 격리 처리했으나 상위 판단자는 판단을 변경 가능
- 중앙 설계자는 다음을 근거로 오버라이드 가능:
  - 자동 생성 리포트(LSTM 등)
  - 다중 로그 비교결과
  - 이전 판단 히스토리
  - 각 부서 야누스의 판정 요약

### 4. 각 부서별 야누스는 독립적이나 중앙에서 통합 제어 가능
- DB 부서 : 이상 질의 감지 → 신뢰 점수 하락 → 자체 판단자 격리
- 인증 부서 : 동일 계정이 다른 장치에서 3초 간격 로그인 시도
- 결제 부서 : 카드정보 오남용 감지 → 로그 + 격리 요청

→ 중앙 야누슨느 이 모든 판단을 통합해서 이 사용자 전체를 완전 봉쇄할 것인가 판단 가능

### 5. 판단자 부재 대응 시스템

| 상황 | 처리 방식 |
|------|---------------------------------------|
| 설계자가 일정 시간 내 판단 미응답 | 판단 대기 상태 유지 + 경고 발생 |
| 일정 시간 초과 시 | 자동 임시 격리 + 로그 강화 저장 |
| 지속 반복 | 해당  설계자 신뢰도 감점 + 상위 통제 자동 보고 |
| 비상 상황 | 권한 위임 구조 or 중앙 override 강제 실행 |

### 6. 판단 히스토리 기반 보조 시스템
- 모든 판단 결과는 자동 기록되고, 향후 판단 시 유사 상황 자동 제안됨
- 판단자의 판단 신뢰도도 점수화 가능 (설계자 리스크 분석 가능)

### 7. 적용 예시
- 각 보안 부서가 자체적으로 이상행동 판단
- 중앙 판단자가 통합 로그 확인 후, 특정 사용자에 대한 **최종봉쇄** 결정
- 판단 오류 발생 시 overrride 및 구조 피드백 수행

### ver1과 달라진 점
- ver1: 모든판단은 설계자(인간)이 하고 설계자는 단일
- h : 모든 판단은 자율적으로 내려질 수 있으나, 궁극적 책임과 통제는 중앙 설계자가 갖는다

---
### 1. 설계자도 신뢰 점수를 가진다 = "KARMA 시스템 도입"
# 핵심 개념
- 기존: 공격자, 내부자만 TrustScore 가지고 감점
- JANUS-H: 이제 설계자도 평가 대상
> KarmaScore (or KarmaPoint)라는 이름으로 "판단자용 신뢰 점수" 생성

| 상황          | 감점 이유           |
| ----------- | --------------- |
| 판단 지연       | 시스템 위협 방치       |
| 반복 오판       | 격리 후 복귀, 반복된 실수 |
| 지나치게 공격적 판단 | 무고한 유저 봉쇄       |
| 판단 방기       | 타 설계자에 판단 전가    |

- 이제 판단자도 시스템 내에서 ‘신’이 아니라 ‘플레이어’가 된다. 그 어떤 권한도 감시받고, 누적되어, 나중에 "판단권 제한" 가능.

### 2. 가짜 설계자 (Fake Architect, 혹은 Decoy Judge) 도입
#기본 구조
- 외부 공격자나 내부 스파이가 설계자에 접근을 시도할 경우

# 일부 설계자는 실제 판단권이 없음
- 유인용 설계자 (Decoy) 또는 가짜 설계자(Fake Architect)

목적
- 공격자 식별 (설계자 노출 시도는 고위 공격자의 신호)
- 내부자의 판단조작 탐지
- 다중설계자 구조에서 “권한 사칭/회유/유도” 탐지

### 3. 설계자 등급제 & 신뢰 설계자 선별 (다수결 구조)
# 핵심
- 모든 설계자는 Karma 점수 기반으로 등급 분류
- 설계자 다수결 또는 합의 기반으로 특정 설계자를 **“신뢰 설계자(Trusted Architect)”**로 승격 가능

| 조건                  | 처리                 |
| ------------------- | ------------------ |
| Karma 점수 900 이상     | Trusted 설계자 후보     |
| 타 설계자 2/3 이상 동의     | 등급 상승 승인           |
| 하위 설계자 Karma 300 이하 | 판단권 일부 박탈 or 권한 제한 |

- 이건 탈중앙 판단 시스템의 도입 전 단계
- KARMA 기반 민주정 판단 시스템
- 이제 공격자만 감시받지 않는다. 설계자도 점수를 잃고, 평가받고, 유인당하고, 정치적으로 승격되며, 때로는 가짜로 존재한다.


| 항목     | 기존 JANUS (3p 논문)   | JANUS-H (확장 구조)                               |
| ------ | ------------------ | --------------------------------------------- |
| 판단 구조  | 단일 설계자             | 수직 분산 설계자 구조                                  |
| 로그 방식  | 일부 정밀 로그           | SHA-256 블록체인 로그                               |
| 격리 방식  | Fake DB 샌드박스       | 디지털 트윈 기반 격리 환경                               |
| 자동화 요소 | 없음                 | LSTM 기반 이상행동 자동 리포트                           |
| 판단 로직  | 설계자 직관             | Trust Score 기반 점수 분기 + Override               |
| 공격자 대응 | 유도 + 분석            | 유도 + 로그 조작 유도 + 행동 위조 감지                      |
| 시스템 구조 | 단일 시스템 중심          | 계층형(말단-중간-중앙) 분산 구조                           |
| 주요 키워드 | 설계자, 샌드박스, Fake DB | Trust Score, 디지털 트윈, 블록체인 로그, Override, KARMA |
| 기술 연동  | 없음                 | SIEM, EDR, LSTM, pseudocode 기반 설계 포함          |


---
### 핵심구조 찐 정리

## 1. 수직 분산 판단 구조
- 각 부서 및 기능 단위로 설계자 인스턴스를 배치.
- 말단 설계자 → 자동·조건부 판단, 중간 설계자 → 리포트 요약·승인, 중앙 설계자 → Override 및 통합 판단 수행.

## 2. Trust Score 흐름
- 감점 요소: 반응 속도, 의심 API 접근, 직접 경로 진입 등.
- 상태 전이: 신뢰 → 관찰 → 격리 후보 → 격리.
- 복구는 반드시 설계자 판단 필요.

## 3. 블록체인 로그
- 로그 구조: prevHash + currentData → SHA-256
- 조작 발생 시 tamper 경고 및 의심 로그 분리 저장.

## 4. 디지털 트윈 격리 환경
- 실제와 동일한 가상 환경.
- Fake DB와 더미 계정 포함.
- 공격자 의도 유도 및 행동 추적 기능 포함.

## 5. 자동화 및 리포트 연동
- LSTM 기반 이상행동 감지 자동화.
- 판단자에게 리포트 요약 제공 → 판단 보조.
- 향후 GPT 등 요약 기반 판단 보조 기능 확장 가능.

### 고급 확장 요소
## 1. KARMA 시스템 (설계자용 신뢰 점수화)
- 설계자도 KarmaScore를 가짐. 감점 사유는 다음과 같음

| 상황     | 감점 이유 |
| ------ | ----- |
| 판단 지연  | 위험 방치 |
| 반복 오판  | 신뢰 손실 |
| 과도한 판단 | 무고 봉쇄 |
| 판단 방기  | 책임 회피 |

> Karma 점수에 따라 판단 권한 축소 또는 등급 조정 가능.

## 2. 가짜 설계자 (Decoy Architect)
- 실제 판단 권한 없는 유인용 설계자 존재.
- 공격자 혹은 내부자의 설계자 접근 시도 탐지 목적.
- Fake Architect는 공격자 반응 유도 및 시나리오 수집 역할 수행.

## 3. 설계자 등급 및 신뢰 설계자 제도
- Karma 점수 + 다수 설계자 찬성 시 등급 상승 가능.
- 
| 조건            | 처리 방식             |
| ------------- | ----------------- |
| Karma 900 이상  | Trusted 설계자 후보    |
| 2/3 이상 설계자 동의 | 등급 승인             |
| 300 이하 지속 유지  | 판단 권한 제한 또는 일시 박탈 |

## Override 판단 구조
- 말단 판단자는 개별 판단을 수행하되, 상위 설계자는 항상 이를 override() 가능.
- override는 로그로 저장되어 책임 추적 가능.
- 중앙 설계자는 각 부서 판단 요약, 리포트, 이전 판단 기록을 종합해 최종 결정 수행.

## 설계자 판단 부재 및 위임 체계

| 상황    | 처리                        |
| ----- | ------------------------- |
| 응답 없음 | 경고 + 대기                   |
| 시간 초과 | 자동 임시 격리, 로그 강화           |
| 반복 시  | 설계자 감점 + 상위 보고            |
| 사고 발생 | override 설계자 활성화 또는 권한 위임 |

## 시뮬레이터 및 판단 보조 시스템
- 공격 로그 샘플 기반 시나리오 재현.
- 판단자 판단력 향상 및 리포트 개선 피드백에 활용.
- 판단 로그 히스토리 기반 자동 제안 시스템 포함.



---

## 요약 정리

JANUS-H는 기존의 ‘침입 허용 + 설계자 판단’ 철학을 유지하면서,
다음과 같은 확장을 통해 실질적 산업/국방 환경 적용 가능 수준으로 진화되었다:
- 수직 분산 구조 + 중앙 통합 판단
- 판단자까지 감시 대상화된 KARMA 시스템
- 블록체인 로그 및 AI 기반 리포트 자동화
- Decoy 설계자, 설계자 등급제 등 독창적 구조 도입
- JANUS-H는 단순한 보안 구조가 아니라, 판단과 권력, 책임과 감시가 융합된 전략적 통제 시스템이다.
